---
# Licensed to the Apache Software Foundation (ASF) under one
# or more contributor license agreements.  See the NOTICE file
# distributed with this work for additional information
# regarding copyright ownership.  The ASF licenses this file
# to you under the Apache License, Version 2.0 (the
# "License"); you may not use this file except in compliance
# with the License.  You may obtain a copy of the License at
#
#   http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing,
# software distributed under the License is distributed on an
# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
# KIND, either express or implied.  See the License for the
# specific language governing permissions and limitations
# under the License.

title: ST_Analyze_Agg
description: Compute the statistics of geometries for the input geometry.
kernels:
  - returns: struct
    args: [geometry]
---

## Description

`ST_Analyze_Agg()` provides a high-level summary of its input geometries. The fields of
its struct return type are:

- `count`: Number of input geometries
- `minx`, `miny`, `maxx`, `maxy`: Minimum bounding rectangle (envelope)
- `mean_size_in_bytes`
- `mean_points_per_geometry`
- `puntal_count`: Number of point or multipoint geometries
- `lineal_count`: Number of line or multilinestring geometries
- `polygonal_count`: Number of polygon or multipolygon geometries
- `geometrycollection_count`: Number of geometrycollection geometries
- `mean_envelope_width`
- `mean_envelope_height`
- `mean_envelope_area`

## Examples

```sql
SELECT ST_Analyze_Agg(
    ST_GeomFromText('MULTIPOINT(1.1 101.1,2.1 102.1,3.1 103.1,4.1 104.1,5.1 105.1,6.1 106.1,7.1 107.1,8.1 108.1,9.1 109.1,10.1 110.1)')
  ) AS analyze
```
